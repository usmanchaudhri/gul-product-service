--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: category; Type: TABLE; Schema: public; Owner: test; Tablespace: 
--

CREATE TABLE category (
    category_id bigint NOT NULL,
    code character varying(255),
    name character varying(255) NOT NULL,
    parentcategory_category_id bigint
);


ALTER TABLE category OWNER TO test;

--
-- Name: category_category_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE category_category_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE category_category_id_seq OWNER TO test;

--
-- Name: databasechangelog; Type: TABLE; Schema: public; Owner: test; Tablespace: 
--

CREATE TABLE databasechangelog (
    id character varying(255) NOT NULL,
    author character varying(255) NOT NULL,
    filename character varying(255) NOT NULL,
    dateexecuted timestamp without time zone NOT NULL,
    orderexecuted integer NOT NULL,
    exectype character varying(10) NOT NULL,
    md5sum character varying(35),
    description character varying(255),
    comments character varying(255),
    tag character varying(255),
    liquibase character varying(20)
);


ALTER TABLE databasechangelog OWNER TO test;

--
-- Name: databasechangeloglock; Type: TABLE; Schema: public; Owner: test; Tablespace: 
--

CREATE TABLE databasechangeloglock (
    id integer NOT NULL,
    locked boolean NOT NULL,
    lockgranted timestamp without time zone,
    lockedby character varying(255)
);


ALTER TABLE databasechangeloglock OWNER TO test;

--
-- Name: pricing_product; Type: TABLE; Schema: public; Owner: test; Tablespace: 
--

CREATE TABLE pricing_product (
    pricing_product_id bigint NOT NULL,
    stored_value numeric(4,2) NOT NULL
);


ALTER TABLE pricing_product OWNER TO test;

--
-- Name: pricing_product_pricing_product_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE pricing_product_pricing_product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE pricing_product_pricing_product_id_seq OWNER TO test;

--
-- Name: product; Type: TABLE; Schema: public; Owner: test; Tablespace: 
--

CREATE TABLE product (
    product_id bigint NOT NULL,
    image_path character varying(255) NOT NULL,
    long_desc character varying(255),
    name character varying(255) NOT NULL,
    quantity bigint NOT NULL,
    short_desc character varying(255) NOT NULL,
    sku character varying(255) NOT NULL,
    category_id bigint NOT NULL,
    pricing_product_id bigint,
    shop_id bigint NOT NULL
);


ALTER TABLE product OWNER TO test;

--
-- Name: product_category; Type: TABLE; Schema: public; Owner: test; Tablespace: 
--

CREATE TABLE product_category (
    product_id integer NOT NULL,
    category_id integer NOT NULL
);


ALTER TABLE product_category OWNER TO test;

--
-- Name: product_category_category_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE product_category_category_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE product_category_category_id_seq OWNER TO test;

--
-- Name: product_category_category_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: test
--

ALTER SEQUENCE product_category_category_id_seq OWNED BY product_category.category_id;


--
-- Name: product_category_product_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE product_category_product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE product_category_product_id_seq OWNER TO test;

--
-- Name: product_category_product_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: test
--

ALTER SEQUENCE product_category_product_id_seq OWNED BY product_category.product_id;


--
-- Name: product_product_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE product_product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE product_product_id_seq OWNER TO test;

--
-- Name: shipping; Type: TABLE; Schema: public; Owner: test; Tablespace: 
--

CREATE TABLE shipping (
    id bigint NOT NULL,
    country_name character varying(255) NOT NULL,
    shipping_processing_time bigint,
    shipping_cost numeric(4,2),
    shippingfrom_id bigint
);


ALTER TABLE shipping OWNER TO test;

--
-- Name: shipping_shipping_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE shipping_shipping_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE shipping_shipping_id_seq OWNER TO test;

--
-- Name: shop; Type: TABLE; Schema: public; Owner: test; Tablespace: 
--

CREATE TABLE shop (
    shop_id bigint NOT NULL,
    shop_name character varying(255) NOT NULL
);


ALTER TABLE shop OWNER TO test;

--
-- Name: shop_shop_id_seq; Type: SEQUENCE; Schema: public; Owner: test
--

CREATE SEQUENCE shop_shop_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE shop_shop_id_seq OWNER TO test;

--
-- Name: product_id; Type: DEFAULT; Schema: public; Owner: test
--

ALTER TABLE ONLY product_category ALTER COLUMN product_id SET DEFAULT nextval('product_category_product_id_seq'::regclass);


--
-- Name: category_id; Type: DEFAULT; Schema: public; Owner: test
--

ALTER TABLE ONLY product_category ALTER COLUMN category_id SET DEFAULT nextval('product_category_category_id_seq'::regclass);


--
-- Data for Name: category; Type: TABLE DATA; Schema: public; Owner: test
--

COPY category (category_id, code, name, parentcategory_category_id) FROM stdin;
24	5000	Men	\N
25	5100	laptop bags	24
26	5200	Shirts	24
27	5300	Handbags	24
28	1000	Women	\N
29	1100	Totes and Bag	28
30	1200	Shirts and Dresses	28
31	1300	Handbags	28
\.


--
-- Name: category_category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('category_category_id_seq', 31, true);


--
-- Data for Name: databasechangelog; Type: TABLE DATA; Schema: public; Owner: test
--

COPY databasechangelog (id, author, filename, dateexecuted, orderexecuted, exectype, md5sum, description, comments, tag, liquibase) FROM stdin;
7	uc	migrations.xml	2015-09-10 13:58:12.890564	1	EXECUTED	7:1cc29ac4f52a266e81138438f1a87b60	createSequence, createTable	make product table and column names start lowercase	\N	3.3.2
7	alexr	migrations.xml	2015-09-13 18:46:11.411213	2	EXECUTED	7:b4e58c935b0852bc54d16c6401cfd87e	createSequence, createTable	make people table and column names start lowercase	\N	3.1.1
\.


--
-- Data for Name: databasechangeloglock; Type: TABLE DATA; Schema: public; Owner: test
--

COPY databasechangeloglock (id, locked, lockgranted, lockedby) FROM stdin;
1	f	\N	\N
\.


--
-- Data for Name: pricing_product; Type: TABLE DATA; Schema: public; Owner: test
--

COPY pricing_product (pricing_product_id, stored_value) FROM stdin;
2	59.78
3	70.00
4	80.00
5	89.99
6	89.99
7	89.99
8	89.99
9	89.99
\.


--
-- Name: pricing_product_pricing_product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('pricing_product_pricing_product_id_seq', 9, true);


--
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: test
--

COPY product (product_id, image_path, long_desc, name, quantity, short_desc, sku, category_id, pricing_product_id, shop_id) FROM stdin;
11	Fall2015/embroided/tunic/2	Hand embroided tunic 2	tunic	55	Embroided Tunic 2	SKU_TUNIC_2	30	9	4
\.


--
-- Data for Name: product_category; Type: TABLE DATA; Schema: public; Owner: test
--

COPY product_category (product_id, category_id) FROM stdin;
\.


--
-- Name: product_category_category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('product_category_category_id_seq', 1, false);


--
-- Name: product_category_product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('product_category_product_id_seq', 1, false);


--
-- Name: product_product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('product_product_id_seq', 11, true);


--
-- Data for Name: shipping; Type: TABLE DATA; Schema: public; Owner: test
--

COPY shipping (id, country_name, shipping_processing_time, shipping_cost, shippingfrom_id) FROM stdin;
17	Pakistan	\N	\N	\N
18	USA	5	10.00	17
19	Pakistan	\N	\N	\N
20	Canada	6	11.00	19
\.


--
-- Name: shipping_shipping_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('shipping_shipping_id_seq', 20, true);


--
-- Data for Name: shop; Type: TABLE DATA; Schema: public; Owner: test
--

COPY shop (shop_id, shop_name) FROM stdin;
1	GULGS
2	gulgs
3	gulgs
4	gulgs
\.


--
-- Name: shop_shop_id_seq; Type: SEQUENCE SET; Schema: public; Owner: test
--

SELECT pg_catalog.setval('shop_shop_id_seq', 4, true);


--
-- Name: category_pkey; Type: CONSTRAINT; Schema: public; Owner: test; Tablespace: 
--

ALTER TABLE ONLY category
    ADD CONSTRAINT category_pkey PRIMARY KEY (category_id);


--
-- Name: pk_databasechangeloglock; Type: CONSTRAINT; Schema: public; Owner: test; Tablespace: 
--

ALTER TABLE ONLY databasechangeloglock
    ADD CONSTRAINT pk_databasechangeloglock PRIMARY KEY (id);


--
-- Name: pricing_product_pkey; Type: CONSTRAINT; Schema: public; Owner: test; Tablespace: 
--

ALTER TABLE ONLY pricing_product
    ADD CONSTRAINT pricing_product_pkey PRIMARY KEY (pricing_product_id);


--
-- Name: product_pkey; Type: CONSTRAINT; Schema: public; Owner: test; Tablespace: 
--

ALTER TABLE ONLY product
    ADD CONSTRAINT product_pkey PRIMARY KEY (product_id);


--
-- Name: shipping_pkey; Type: CONSTRAINT; Schema: public; Owner: test; Tablespace: 
--

ALTER TABLE ONLY shipping
    ADD CONSTRAINT shipping_pkey PRIMARY KEY (id);


--
-- Name: shop_pkey; Type: CONSTRAINT; Schema: public; Owner: test; Tablespace: 
--

ALTER TABLE ONLY shop
    ADD CONSTRAINT shop_pkey PRIMARY KEY (shop_id);


--
-- Name: uk_jqke9jk9nte5ria5dww0l3thu; Type: CONSTRAINT; Schema: public; Owner: test; Tablespace: 
--

ALTER TABLE ONLY category
    ADD CONSTRAINT uk_jqke9jk9nte5ria5dww0l3thu UNIQUE (code);


--
-- Name: fk_3rqk4fspf25iyfbl04uppp4ul; Type: FK CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY category
    ADD CONSTRAINT fk_3rqk4fspf25iyfbl04uppp4ul FOREIGN KEY (parentcategory_category_id) REFERENCES category(category_id);


--
-- Name: fk_6oweamgjibmex1v06bgk59asd; Type: FK CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY product
    ADD CONSTRAINT fk_6oweamgjibmex1v06bgk59asd FOREIGN KEY (category_id) REFERENCES category(category_id);


--
-- Name: fk_9q2l318eh55wqb10i6ah4s0ng; Type: FK CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY shipping
    ADD CONSTRAINT fk_9q2l318eh55wqb10i6ah4s0ng FOREIGN KEY (shippingfrom_id) REFERENCES shipping(id);


--
-- Name: fk_oyjqqep8hbmk4adib1t3g2om2; Type: FK CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY product
    ADD CONSTRAINT fk_oyjqqep8hbmk4adib1t3g2om2 FOREIGN KEY (pricing_product_id) REFERENCES pricing_product(pricing_product_id);


--
-- Name: fk_r0v5c2ajsmfyqwo8il06y4lqu; Type: FK CONSTRAINT; Schema: public; Owner: test
--

ALTER TABLE ONLY product
    ADD CONSTRAINT fk_r0v5c2ajsmfyqwo8il06y4lqu FOREIGN KEY (shop_id) REFERENCES shop(shop_id);


--
-- Name: public; Type: ACL; Schema: -; Owner: usman
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM usman;
GRANT ALL ON SCHEMA public TO usman;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

